//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "MainForm.h"
#include "DataModuleMainForm.h"
#include "Admin.h"
#include "DataModule.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TFMainForm *FMainForm;
//---------------------------------------------------------------------------
__fastcall TFMainForm::TFMainForm(TComponent* Owner)
	: TForm(Owner)
{
}


//---------------------------------------------------------------------------





void __fastcall TFMainForm::FormShow(TObject *Sender)
{
    FAdmin->Show();
}
//---------------------------------------------------------------------------












void __fastcall TFMainForm::DBImage1Click(TObject *Sender)
{
    	ShowMessage(IntToStr(DBImage1->Width)+'-'+IntToStr(DBImage1->Height));
}
//---------------------------------------------------------------------------

void __fastcall TFMainForm::EditMainSearchFoodChange(TObject *Sender)
{
	String tmp = EditMainSearchFood->Text;
	if (tmp.Length()!=0) {
		DM->DoSQL(DM->TSQL,"SELECT * FROM eMenu.dbo.Food WHERE name_food like '*"+tmp+"*'");
		DBCGShowFood->DataSource = DMMain->MDSQShowFood;
	} else {
        	DBCGShowFood->DataSource = DMMain->MDSShowFood;
	DMMain->MTShowFood->Refresh();
	DMMain->MQShowFood->Close();
    }

}
//---------------------------------------------------------------------------

